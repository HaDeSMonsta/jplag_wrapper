#compdef jplag_wrapper

autoload -U is-at-least

_jplag_wrapper() {
    typeset -A opt_args
    typeset -a _arguments_options
    local ret=1

    if is-at-least 5.2; then
        _arguments_options=(-s -S -C)
    else
        _arguments_options=(-s -C)
    fi

    local context curcontext="$curcontext" state line
    _arguments "${_arguments_options[@]}" : \
'-l+[Log Level to use]:LOG_LEVEL:_default' \
'--log-level=[Log Level to use]:LOG_LEVEL:_default' \
'-c+[Specify the config toml file to look for if you don'\''t want to use the default config.toml]:CONFIG:_default' \
'--config=[Specify the config toml file to look for if you don'\''t want to use the default config.toml]:CONFIG:_default' \
'-s+[Where the input file can be found]:SOURCE_ZIP:_default' \
'--source-zip=[Where the input file can be found]:SOURCE_ZIP:_default' \
'-t+[Where to put the results]:TARGET_DIR:_default' \
'--target-dir=[Where to put the results]:TARGET_DIR:_default' \
'--tmp-dir=[Where to put the temporary files]:TMP_DIR:_default' \
'-i+[Where to find the ignore-file]:IGNORE_FILE:_default' \
'--ignore-file=[Where to find the ignore-file]:IGNORE_FILE:_default' \
'-j+[Where the jplag jar can be found]:JPLAG_JAR:_default' \
'--jplag-jar=[Where the jplag jar can be found]:JPLAG_JAR:_default' \
'--init[Initialize the config, will create (or override!) \`config.toml\` with all values and fill it with the defaults]' \
'--abort-on-err[Set to abort on any extraction related error]' \
'-p[Set to not remove \`{{tmp_dir}}\` when the program finishes]' \
'--preserve-tmp-dir[Set to not remove \`{{tmp_dir}}\` when the program finishes]' \
'--ignore-output[Set to ignore the output of jplag]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
'-V[Print version]' \
'--version[Print version]' \
'::add_sub_dirs -- Additional submission directories (if you read this with -h, use --help for full docs):_default' \
'::jplag_args -- Will be passed directly to jplag as arguments:_default' \
":: :_jplag_wrapper_commands" \
"*::: :->jplag_wrapper" \
&& ret=0
    case $state in
    (jplag_wrapper)
        words=($line[3] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:jplag_wrapper-command-$line[3]:"
        case $line[3] in
            (complete)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
':shell -- The shell to generate completions for:(bash elvish fish powershell zsh)' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_jplag_wrapper__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:jplag_wrapper-help-command-$line[1]:"
        case $line[1] in
            (complete)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
}

(( $+functions[_jplag_wrapper_commands] )) ||
_jplag_wrapper_commands() {
    local commands; commands=(
'complete:' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'jplag_wrapper commands' commands "$@"
}
(( $+functions[_jplag_wrapper__complete_commands] )) ||
_jplag_wrapper__complete_commands() {
    local commands; commands=()
    _describe -t commands 'jplag_wrapper complete commands' commands "$@"
}
(( $+functions[_jplag_wrapper__help_commands] )) ||
_jplag_wrapper__help_commands() {
    local commands; commands=(
'complete:' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'jplag_wrapper help commands' commands "$@"
}
(( $+functions[_jplag_wrapper__help__complete_commands] )) ||
_jplag_wrapper__help__complete_commands() {
    local commands; commands=()
    _describe -t commands 'jplag_wrapper help complete commands' commands "$@"
}
(( $+functions[_jplag_wrapper__help__help_commands] )) ||
_jplag_wrapper__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'jplag_wrapper help help commands' commands "$@"
}

if [ "$funcstack[1]" = "_jplag_wrapper" ]; then
    _jplag_wrapper "$@"
else
    compdef _jplag_wrapper jplag_wrapper
fi
